<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cart - Myntra</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- header will be injected here by script.js -->
    <div id="site-header"></div>

    <main class="container my-4">
      <h2 class="mb-3">Your Cart</h2>
      <div id="cart-container"></div>
    </main>

    <!-- Address Confirmation Modal -->
    <div class="modal fade" id="addressModal" tabindex="-1" aria-labelledby="addressModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addressModalLabel">Confirm Delivery Address</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div id="address-display" class="mb-4">
              <h6>Deliver to:</h6>
              <div class="card p-3 bg-light">
                <div id="address-details">
                  <!-- Address will be populated by JavaScript -->
                </div>
                <button id="edit-address-btn" class="btn btn-link p-0 mt-2 text-decoration-none">
                  <i class="bi bi-pencil-square"></i> Edit Address
                </button>
              </div>
            </div>
            
            <form id="address-form" class="d-none">
              <div class="mb-3">
                <label for="edit-address-line1" class="form-label">Address Line 1</label>
                <input type="text" class="form-control" id="edit-address-line1" required>
              </div>
              <div class="mb-3">
                <label for="edit-address-line2" class="form-label">Address Line 2 (Optional)</label>
                <input type="text" class="form-control" id="edit-address-line2">
              </div>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="edit-city" class="form-label">City</label>
                  <input type="text" class="form-control" id="edit-city" required>
                </div>
                <div class="col-md-6 mb-3">
                  <label for="edit-state" class="form-label">State</label>
                  <select class="form-select" id="edit-state" required>
                    <option value="">Select State</option>
                    <option value="Andhra Pradesh">Andhra Pradesh</option>
                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                    <option value="Assam">Assam</option>
                    <option value="Bihar">Bihar</option>
                    <option value="Chhattisgarh">Chhattisgarh</option>
                    <option value="Goa">Goa</option>
                    <option value="Gujarat">Gujarat</option>
                    <option value="Haryana">Haryana</option>
                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                    <option value="Jharkhand">Jharkhand</option>
                    <option value="Karnataka">Karnataka</option>
                    <option value="Kerala">Kerala</option>
                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                    <option value="Maharashtra">Maharashtra</option>
                    <option value="Manipur">Manipur</option>
                    <option value="Meghalaya">Meghalaya</option>
                    <option value="Mizoram">Mizoram</option>
                    <option value="Nagaland">Nagaland</option>
                    <option value="Odisha">Odisha</option>
                    <option value="Punjab">Punjab</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Sikkim">Sikkim</option>
                    <option value="Tamil Nadu">Tamil Nadu</option>
                    <option value="Telangana">Telangana</option>
                    <option value="Tripura">Tripura</option>
                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                    <option value="Uttarakhand">Uttarakhand</option>
                    <option value="West Bengal">West Bengal</option>
                    <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                    <option value="Chandigarh">Chandigarh</option>
                    <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                    <option value="Ladakh">Ladakh</option>
                    <option value="Lakshadweep">Lakshadweep</option>
                    <option value="Puducherry">Puducherry</option>
                  </select>
                </div>
              </div>
              <div class="mb-3">
                <label for="edit-pincode" class="form-label">Pincode</label>
                <input type="text" class="form-control" id="edit-pincode" pattern="[0-9]{6}" required>
              </div>
              <div class="d-flex justify-content-end gap-2">
                <button type="button" id="cancel-edit-btn" class="btn btn-outline-secondary">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Address</button>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" id="proceed-to-payment" class="btn btn-primary">Proceed to Payment</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Load Bootstrap JS first -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    
    <!-- Load auth.js before script.js -->
    <script src="auth.js"></script>
    
    <!-- Load main script -->
    <script>
      // Make sure bootstrap is loaded
      if (typeof bootstrap === 'undefined') {
        console.error('Bootstrap JS not loaded!');
      } else {
        console.log('Bootstrap loaded successfully');
      }
      
      // Load main script
      document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM fully loaded');
      });
    </script>
    
    <script src="script.js"></script>
  </body>
</html>
